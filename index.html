<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SEIP - Smart E-Commerce Intelligence Platform</title>
    <link rel="stylesheet" href="style.css">
    <script src="script.js" defer></script>
</head>
<body>
    <div class="container">
        <header>
            <div class="header">
                <h1>ğŸš€ Smart E-Commerce Intelligence Platform</h1>
                <p class="tagline">Turning data into decisions.</p>
            </div>
            <div style="position: relative;">
                <div class="notification-bell" onclick="toggleNotifications(event)">
                    <span class="bell-icon">ğŸ””</span>
                    <span class="notification-badge" id="notificationCount">5</span>
                </div>
                <div class="notification-dropdown" id="notificationDropdown">
                    <div class="notification-header">
                        <h3>Notifications</h3>
                        <span class="clear-all-btn" onclick="clearAllNotifications()">Clear All</span>
                    </div>
                    <div id="notificationList">
                        <!-- Notifications will be added here -->
                    </div>
                </div>
            </div>
        </header>

        <!-- NEW: Quick Access Navigation -->
        <div class="quick-nav">
            <button class="nav-btn active" onclick="showSection('dashboard')">ğŸ“Š Dashboard</button>
            <button class="nav-btn" onclick="showSection('email-campaigns')">ğŸ“§ Email Campaigns</button>
            <button class="nav-btn" onclick="showSection('integrations')">ğŸ”Œ Integrations</button>
        </div>

        <!-- SECTION: Dashboard (Original Content) -->
        <div id="dashboard-section" class="section-content active">
            <div class="controls">
                <button class="btn btn-primary" onclick="simulateCustomerBehavior()">
                    ğŸ­ Simulate Customer Behavior
                </button>
                <button class="btn btn-success" onclick="openRuleBuilder()">
                    â• Create New Rule
                </button>
                <button class="btn btn-danger" onclick="clearActivities()">
                    ğŸ—‘ï¸ Clear Activity Feed
                </button>
            </div>

            <div class="dashboard">
                <div class="card">
                    <div class="card-header">
                        <div class="icon purple">ğŸ‘¥</div>
                        <div class="card-title">Active Customers</div>
                    </div>
                    <div class="metric" id="activeCustomers">1,247</div>
                    <div class="metric-label">Currently browsing</div>
                </div>

                <div class="card">
                    <div class="card-header">
                        <div class="icon green">ğŸ’°</div>
                        <div class="card-title">AI Actions Today</div>
                    </div>
                    <div class="metric" id="aiActions">89</div>
                    <div class="metric-label">Automated interventions</div>
                </div>

                <div class="card">
                    <div class="card-header">
                        <div class="icon pink">ğŸ“ˆ</div>
                        <div class="card-title">Conversion Lift</div>
                    </div>
                    <div class="metric" id="conversionLift">+23%</div>
                    <div class="metric-label">vs. last week</div>
                </div>
            </div>

            <div class="activity-section">
                <h2 class="section-title">Real-Time Intelligence Feed</h2>
                <div class="activity-feed" id="activityFeed">
                    <div class="activity-item">
                        <div class="activity-icon">ğŸ‘ï¸</div>
                        <div class="activity-content">
                            <div class="activity-title">High Intent Detected</div>
                            <div class="activity-description">Customer #4821 viewed "Wireless Headphones Pro" 3 times in 10 minutes</div>
                            <div class="activity-time">Just now</div>
                        </div>
                        <div class="activity-action">âœ‰ï¸ 10% DISCOUNT SENT</div>
                    </div>
                </div>
            </div>

            <div class="rules-section">
                <h2 class="section-title">Active Business Rules</h2>
                <div id="rulesContainer">
                    <div class="rule-item" data-rule-id="1">
                        <div class="rule-toggle active" onclick="toggleRule(1, event)"></div>
                        <div class="rule-trigger">ğŸ¯ TRIGGER: Customer views same product 3+ times</div>
                        <div class="rule-arrow">â†“</div>
                        <div class="rule-action">ACTION: Send 10% discount code via email instantly</div>
                        <div class="rule-stats">
                            <div class="stat"><span class="pulse"></span> <span class="status-active">ACTIVE</span></div>
                            <div class="stat">ğŸ“Š Triggered <span class="rule-count">156</span> times this week</div>
                            <div class="stat">âœ… 64% conversion rate</div>
                        </div>
                        <button class="view-analytics-btn" onclick="openAnalytics(1, event)">ğŸ“Š View Performance Analytics</button>
                    </div>

                    <div class="rule-item" data-rule-id="2">
                        <div class="rule-toggle active" onclick="toggleRule(2, event)"></div>
                        <div class="rule-trigger">ğŸ›’ TRIGGER: Cart value > $100 + 20min inactivity</div>
                        <div class="rule-arrow">â†“</div>
                        <div class="rule-action">ACTION: Send free shipping offer + product reminder</div>
                        <div class="rule-stats">
                            <div class="stat"><span class="pulse"></span> <span class="status-active">ACTIVE</span></div>
                            <div class="stat">ğŸ“Š Triggered <span class="rule-count">98</span> times this week</div>
                            <div class="stat">âœ… 52% recovery rate</div>
                        </div>
                        <button class="view-analytics-btn" onclick="openAnalytics(2, event)">ğŸ“Š View Performance Analytics</button>
                    </div>

                    <div class="rule-item" data-rule-id="3">
                        <div class="rule-toggle active" onclick="toggleRule(3, event)"></div>
                        <div class="rule-trigger">ğŸ“… TRIGGER: Previous customer + 30 days no visit</div>
                        <div class="rule-arrow">â†“</div>
                        <div class="rule-action">ACTION: Send personalized "We miss you" + 15% discount</div>
                        <div class="rule-stats">
                            <div class="stat"><span class="pulse"></span> <span class="status-active">ACTIVE</span></div>
                            <div class="stat">ğŸ“Š Triggered <span class="rule-count">43</span> times this week</div>
                            <div class="stat">âœ… 38% reactivation rate</div>
                        </div>
                        <button class="view-analytics-btn" onclick="openAnalytics(3, event)">ğŸ“Š View Performance Analytics</button>
                    </div>
                </div>
            </div>
        </div>

        <!-- NEW SECTION: Email Campaign Manager -->
        <div id="email-campaigns-section" class="section-content">
            <div class="section-header">
                <h2 class="section-title">ğŸ“§ Email Campaign Manager</h2>
                <button class="btn btn-success" onclick="openEmailBuilder()">âœ¨ Create New Campaign</button>
            </div>

            <div class="email-stats-grid">
                <div class="stat-card">
                    <div class="stat-icon">ğŸ“¤</div>
                    <div class="stat-value" id="emailsSent">2,847</div>
                    <div class="stat-label">Emails Sent This Week</div>
                </div>
                <div class="stat-card">
                    <div class="stat-icon">ğŸ“¬</div>
                    <div class="stat-value" id="openRate">42.3%</div>
                    <div class="stat-label">Average Open Rate</div>
                </div>
                <div class="stat-card">
                    <div class="stat-icon">ğŸ‘†</div>
                    <div class="stat-value" id="clickRate">18.7%</div>
                    <div class="stat-label">Click-Through Rate</div>
                </div>
                <div class="stat-card">
                    <div class="stat-icon">ğŸ’µ</div>
                    <div class="stat-value" id="emailRevenue">$12,450</div>
                    <div class="stat-label">Revenue Generated</div>
                </div>
            </div>

            <div class="campaigns-list">
                <h3 class="subsection-title">Active Campaigns</h3>
                <div id="campaignsContainer">
                    <!-- Campaigns will be loaded here -->
                </div>
            </div>

            <div class="email-templates-section">
                <h3 class="subsection-title">Email Templates</h3>
                <div class="templates-grid" id="templatesGrid">
                    <!-- Templates will be loaded here -->
                </div>
            </div>
        </div>

        <!-- NEW SECTION: Integration Hub -->
        <div id="integrations-section" class="section-content">
            <div class="section-header">
                <h2 class="section-title">ğŸ”Œ Integration Hub</h2>
                <button class="btn btn-primary" onclick="openIntegrationSetup()">â• Add Integration</button>
            </div>

            <div class="integrations-grid" id="integrationsGrid">
                <!-- Integrations will be loaded here -->
            </div>

            <div class="integration-logs">
                <h3 class="subsection-title">Recent Sync Activity</h3>
                <div class="logs-container" id="syncLogs">
                    <!-- Sync logs will appear here -->
                </div>
            </div>
        </div>
    </div>

    <!-- Modal for Rule Builder -->
    <div class="modal" id="ruleModal">
        <div class="modal-content">
            <div class="modal-header">Create New Business Rule</div>
            <form onsubmit="createRule(event)">
                <div class="form-group">
                    <label>Trigger Condition</label>
                    <select id="triggerType" required>
                        <option value="">Select trigger...</option>
                        <option value="views">Product views</option>
                        <option value="cart">Cart value</option>
                        <option value="time">Time on site</option>
                        <option value="inactivity">Inactivity period</option>
                    </select>
                </div>
                <div class="form-group">
                    <label>Threshold Value</label>
                    <input type="text" id="threshold" placeholder="e.g., 3 views, $100, 30 days" required>
                </div>
                <div class="form-group">
                    <label>Action to Take</label>
                    <select id="actionType" required>
                        <option value="">Select action...</option>
                        <option value="discount">Send discount code</option>
                        <option value="email">Send reminder email</option>
                        <option value="offer">Send special offer</option>
                        <option value="notification">Push notification</option>
                    </select>
                </div>
                <div class="form-actions">
                    <button type="button" class="btn btn-danger" onclick="closeModal('ruleModal'); return false;">Cancel</button>
                    <button type="submit" class="btn btn-success">Create Rule</button>
                </div>
            </form>
        </div>
    </div>
    
    <!-- Modal for Analytics -->
    <div class="modal" id="analyticsModal">
        <div class="modal-content">
            <div class="modal-header">
                <span id="analyticsTitle">Performance Analytics</span>
                <span class="close-modal" onclick="closeModal('analyticsModal')">&times;</span>
            </div>
            <div id="analyticsContent">
                <!-- Analytics content will be loaded here -->
            </div>
        </div>
    </div>

    <!-- NEW: Email Campaign Builder Modal -->
    <div class="modal" id="emailBuilderModal">
        <div class="modal-content large">
            <div class="modal-header">
                <span>âœ¨ Create Email Campaign</span>
                <span class="close-modal" onclick="closeModal('emailBuilderModal')">&times;</span>
            </div>
            <form onsubmit="createEmailCampaign(event)">
                <div class="form-group">
                    <label>Campaign Name</label>
                    <input type="text" id="campaignName" placeholder="e.g., Holiday Sale 2026" required>
                </div>
                <div class="form-group">
                    <label>Select Template</label>
                    <select id="emailTemplate" onchange="previewTemplate()" required>
                        <option value="">Choose a template...</option>
                        <option value="discount">ğŸ Discount Offer</option>
                        <option value="abandoned-cart">ğŸ›’ Abandoned Cart</option>
                        <option value="welcome">ğŸ‘‹ Welcome Email</option>
                        <option value="winback">ğŸ’Œ Win-Back Campaign</option>
                        <option value="product-launch">ğŸš€ Product Launch</option>
                    </select>
                </div>
                <div class="form-group">
                    <label>Email Subject</label>
                    <input type="text" id="emailSubject" placeholder="Enter email subject line" required>
                </div>
                <div class="form-group">
                    <label>Target Audience</label>
                    <select id="targetAudience" required>
                        <option value="">Select audience...</option>
                        <option value="all">All Customers</option>
                        <option value="high-value">High-Value Customers</option>
                        <option value="at-risk">At-Risk Customers</option>
                        <option value="new">New Customers</option>
                        <option value="inactive">Inactive Customers</option>
                    </select>
                </div>
                <div class="form-group">
                    <label>Preview</label>
                    <div class="email-preview" id="emailPreview">
                        <p style="color: #999;">Select a template to preview</p>
                    </div>
                </div>
                <div class="form-actions">
                    <button type="button" class="btn btn-danger" onclick="closeModal('emailBuilderModal')">Cancel</button>
                    <button type="submit" class="btn btn-success">Launch Campaign</button>
                </div>
            </form>
        </div>
    </div>

    <!-- NEW: Integration Setup Modal -->
    <div class="modal" id="integrationModal">
        <div class="modal-content">
            <div class="modal-header">
                <span>ğŸ”Œ Add New Integration</span>
                <span class="close-modal" onclick="closeModal('integrationModal')">&times;</span>
            </div>
            <form onsubmit="addIntegration(event)">
                <div class="form-group">
                    <label>Select Platform</label>
                    <select id="integrationPlatform" onchange="updateIntegrationFields()" required>
                        <option value="">Choose platform...</option>
                        <option value="shopify">ğŸ›ï¸ Shopify</option>
                        <option value="woocommerce">ğŸ›’ WooCommerce</option>
                        <option value="mailchimp">ğŸ“§ Mailchimp</option>
                        <option value="sendgrid">âœ‰ï¸ SendGrid</option>
                        <option value="stripe">ğŸ’³ Stripe</option>
                        <option value="paypal">ğŸ’° PayPal</option>
                    </select>
                </div>
                <div class="form-group">
                    <label>API Key / Token</label>
                    <input type="password" id="integrationKey" placeholder="Enter your API key" required>
                </div>
                <div class="form-group">
                    <label>Store URL (if applicable)</label>
                    <input type="url" id="integrationUrl" placeholder="https://yourstore.com">
                </div>
                <div class="form-actions">
                    <button type="button" class="btn btn-danger" onclick="closeModal('integrationModal')">Cancel</button>
                    <button type="submit" class="btn btn-success">Connect Integration</button>
                </div>
            </form>
        </div>
    </div>

</body>
</html>